{% extends "baseG.html" %} {% load static %} {% block body %}
<div class="container mt-5">
  <h2 class="mb-4">Lista de Servicios de Incendios</h2>

  <a href="{% url 'add' %}" class="btn btn-primary">Volver</a>
  <table id="myTable" class="table table-striped table-bordered border-success">
    <thead class="table-dark">
      <tr>
        <th class="header-cell w-5">Servicio:</th>

        <th class="header-cell w-5">Fecha y Hora:</th>
        <th class="header-cell w-5">Servicio de:</th>
        <th class="header-cell w-5">Jefe de Servicio</th>
        <th class="header-cell w-5">Autorizado Por:</th>

        <th class="header-cell w-5">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for incendios in incendios %}
      <tr>
        <td>{{ incendios.servicio.estacion }}</td>

        <td>{{ incendios.servicio.fecha_hora }}</td>
        <td>{{ incendios.servicio.servicio }}</td>
        <td>{{ incendios.servicio.piloto }}</td>
        <td>{{ incendios.jefe_servicio }}</td>
        <td>
          <!-- Botón para abrir el modal -->
          <button
            class="btn btn-warning"
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#modalIncendios{{ incendios.id }}"
          >
            <i class="bi bi-eye"></i> Ver Detalles
          </button>
        </td>
      </tr>

      <!-- Modal para cada servicio de Incendios -->
      <div
        class="modal fade"
        id="modalIncendios{{ incendios.id }}"
        tabindex="-1"
        aria-labelledby="modalIncendiosLabel{{ incendios.id }}"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header bg-warning">
              <h5
                class="modal-title"
                id="modalIncendiosLabel{{ incendios.id }}"
              >
                Detalles del Servicio de Incendios
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Cerrar"
              ></button>
            </div>
            <div class="modal-body">
              <form>
                <div class="row">
                  <!-- Información General -->
                  <div class="col-md-6">
                    <h6>Información General</h6>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Estación:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.servicio.estacion }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"><strong>Turno:</strong></label>
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.servicio.turno }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Dirección:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.servicio.direccion }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Telefonista:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.servicio.telefonista }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Bombero Reporta:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.servicio.bombero_reporta }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"><strong>Unidad:</strong></label>
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.servicio.unidad }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"><strong>Piloto:</strong></label>
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.servicio.piloto }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Hora Salida:</strong></label
                      >
                      <input
                        type="datetime-local"
                        class="form-control"
                        value="{{ incendios.servicio.salida_hora|date:'Y-m-d\\TH:i' }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Hora Entrada:</strong></label
                      >
                      <input
                        type="datetime-local"
                        class="form-control"
                        value="{{ incendios.servicio.entrada_hora|date:'Y-m-d\\TH:i' }}"
                        readonly
                      />
                    </div>
                  </div>
                  <!-- Información Específica de Incendios -->
                  <div class="col-md-6">
                    <h6>Detalles de Incendios</h6>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Servicio de:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.servicio_incendio_inmueble }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Jefe de Servicio:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.valor }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Servicio Autorizado Por:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.perdida }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Unidades Asistentes:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.unidades_asistentes_otras_estaciones }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Unidades Policiacas:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.unidades_policiacas }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong>Otras Instituciones Bomberiles:</strong></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.unidades_otras_instituciones_bomberiles }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"
                        ><strong
                          >Personal Asistente en Otras Estaciones:</strong
                        ></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        value="{{ incendios.personal_asistente_otras_estaciones }}"
                        readonly
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label"><strong>Fecha:</strong></label>
                      <input
                        type="date"
                        class="form-control"
                        value="{{ incendios.fecha|date:'Y-m-d' }}"
                        readonly
                      />
                    </div>
                  </div>
                </div>
                <!-- Observaciones -->
                <div class="mb-3">
                  <label class="form-label"
                    ><strong>Observaciones:</strong></label
                  >
                  <textarea class="form-control" rows="3" readonly>
{{ incendios.servicio.observaciones }}</textarea
                  >
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <a
                href="{% url 'generar_reporte_incendios' incendios.id %}"
                class="btn btn-success"
              >
                Descargar
              </a>
              <!-- <button
                type="button"
                class="btn btn-danger"
                data-bs-dismiss="modal"
                onclick="return confirm('¿Está seguro de que desea desactivar este servicio?')"
              >
                Desactivar
              </button>
              <button
                type="button"
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#editarIncendios{{ incendios.id }}"
              >
                Editar
              </button> -->
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cerrar
              </button>
            </div>
          </div>
        </div>
      </div>

      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
